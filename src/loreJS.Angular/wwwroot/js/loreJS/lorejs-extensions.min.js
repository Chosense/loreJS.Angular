String.prototype.toDate=function(){var t=new Date(this);return isNaN(t.valueOf())?void 0:t},String.prototype.format=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return this.replace(/{(\d+)}/g,function(e,r){var n="";return t.length>r&&t[r]&&(n=t[r]+""),n})},String.prototype.left=function(t){var e,r=this;return e=r&&r.length>=t?r.substr(0,t):r},String.prototype.right=function(t){var e,r=this;return e=r&&r.length>=t?r.substr(r.length-t):r},String.prototype.toNumber=function(){var t=this;if(t&&t.length){var e=t;return 1*e}return NaN},String.prototype.truncate=function(t,e){var r;return this&&this.length&&this.length>t?(r=this.left(t),e&&(r+="...")):r=this+"",r},String.prototype.toTimeSpan=function(){var t=this;if(t&&t.length){var e=lorejs.timeSpan(),r=t.match(/^\d+\./);r&&r.length&&(e.days=r[0].substring(0,r[0].length-1).toNumber());var n=t.match(/\d{1,2}\:\d{2}(\:\d{2})*/);if(n&&n.length){var i=n[0].split(":");i&&i.length&&(e.hours=i[0].toNumber(),i.length>1&&(e.minutes=i[1].toNumber()),i.length>2&&(e.seconds=i[2].toNumber()))}var o=t.match(/\.\d{3}$/);return o&&o.length&&(e.milliseconds=o[0].substring(1).toNumber()),e}},Date.prototype.addDays=function(t){var e=this;return e.setDate(e.getDate()+t),e},Date.prototype.addHours=function(t){var e=this;return e.setHours(e.getHours()+t),e},Date.prototype.addMinutes=function(t){var e=this;return e.setMinutes(e.getMinutes()+t),e},Date.prototype.addSeconds=function(t){var e=this;return e.setSeconds(e.getSeconds()+t),e},Date.prototype.addMilliseconds=function(t){var e=this;return e.setMilliseconds(e.getMilliseconds()+t),e},Date.prototype.addTimeSpan=function(t){var e=this;return e&&t&&(t.days&&e.addDays(t.days),t.hours&&e.addHours(t.hours),t.minutes&&e.addMinutes(t.minutes),t.seconds&&e.addSeconds(t.seconds),t.milliseconds&&e.addMilliseconds(t.milliseconds)),e},Date.prototype.clone=function(){var t=this,e=t.valueOf();return isNaN(e)?null:new Date(e)},Date.prototype.toLocalISOString=function(){var t,e=this;if(e){var r=("0000"+e.getFullYear()).right(4),n=("00"+(e.getMonth()+1)).right(2),i=("00"+e.getDate()).right(2);t=r+"-"+n+"-"+i+"T"+(e.toLocalISOTimeString()||"")+(e.toOffsetString()||"")}return t},Date.prototype.toLocalISOTimeString=function(){var t,e=this;if(e){var r=("00"+e.getHours()).right(2),n=("00"+e.getMinutes()).right(2),i=("00"+e.getSeconds()).right(2),o=("000"+e.getMilliseconds()).right(3);t=r+":"+n+":"+i+"."+o}return t},Date.prototype.toOffsetString=function(){var t,e=this;if(e){var r=-1*e.getTimezoneOffset(),n=r>=0?"+":"-",i=("00"+r/60).right(2),o=("00"+r%60).right(2);t=n+i+":"+o}return t},Date.prototype.toLocalTime=function(){var t=this;if(t){var e=lorejs.timeSpan();return e.hours=t.getHours(),e.minutes=t.getMinutes(),e.seconds=t.getSeconds(),e.milliseconds=t.getMilliseconds(),e}},Date.prototype.toUTCTime=function(){var t=this;if(t){var e=lorejs.timeSpan();return e.hours=t.getUTCHours(),e.minutes=t.getUTCMinutes(),e.seconds=t.getUTCMinutes(),e.milliseconds=t.getUTCMilliseconds(),e}};