var lorejs;!function(e){var r;!function(r){var t;!function(r){var t=function(){function r(e,r){this.httpSrv=e,this.timeoutSrv=r}return r.prototype.register=function(r){r.query||(r.query=e.odata.queryOptions()),r.query.inlineTotalCount=!0,r.query.skip||(r.query.skip=0),r.query.top||(r.query.top=20),r.hasNextPage=!1,r.hasPreviousPage=!1;var t=this.httpSrv,n=this.timeoutSrv;r.load=function(){r.isLoading=!0;var e=r.buildUrl(r.query);r.data=[],t.get(e).success(function(e){e&&e.Items&&e.Items.length&&(r.data=e.Items),r.itemCount=e.Count,r.hasNextPage=r.query.skip+r.query.top<r.itemCount,r.hasPreviousPage=r.query.skip>0})["finally"](function(){r.isLoading=!1})},r.nextPage=function(){r.query.skip+=r.query.top},r.previousPage=function(){r.query.skip-=r.query.top,r.query.skip<0&&(r.query.skip=0)};var u;this["lore-watcher"]=r.$watchCollection("[query, query.skip, query.top, query.select, query.expand, query.filter, query.orderBy, query.inlineTotalCount]",function(){r.query.skip=1*r.query.skip,r.query.top=1*r.query.top,void 0!=u&&n.cancel(u),u=n(function(){r.load()},300)}),r["lore-destroyer"]=r.$on("$destroy",function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];r["lore-watcher"](),r["lore-destroyer"]()})},r}(),n=function(){function e(e,r){this.httpSrv=e,this.qSrv=r}return e.prototype.upload=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];var n=[];if(r&&r.length)for(var u=0;u<r.length;u++){var o=this.uploadFile(e,r[u]);o&&n.push(o)}return this.qSrv.all(n)},e.prototype.uploadFile=function(e,r){var t=new FormData;return t.append("file",r),this.httpSrv.post(e,t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}})},e}(),u=function(e,r){var n=new t(e,r);return n};u.$inject=["$http","$timeout"],e.angularjs.servicesModule.service("loreOdataQueryService",u);var o=function(e,r){var t=new n(e,r);return t};o.$inject=["$http","$q"],e.angularjs.servicesModule.service("loreFileUploadService",o)}(t=r.services||(r.services={}))}(r=e.angularjs||(e.angularjs={}))}(lorejs||(lorejs={}));